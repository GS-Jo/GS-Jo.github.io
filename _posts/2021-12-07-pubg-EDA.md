# Top10을 들어가기위한 최고의 전략

## 주제 선정 이유
- 1등을 하기위한 전략중에 대부분은 에임 실력이 좋아야하는 전략이거나 top10을 들어갔을때 운영을 할수있는 전략이 많았다.
- top10을 들어가기위한 최고의 생존전략이 궁금했다.

![image.png](attachment:images/image.png), ![image-2.png](attachment:image-2.png), ![image-3.png](attachment:image-3.png)

## top10을 들어가기위한 최고의 생존전략을 찾아보자!!

### 필요한 모듈을 불러온다


```python
import pandas as pd
import missingno as msno
import seaborn as sns
import warnings
import matplotlib.pyplot as plt
warnings.filterwarnings(action='ignore')
import re

print("pandas version: ", pd.__version__)
pd.set_option('display.max_columns', 150)
```

    pandas version:  1.2.3


### 데이터 불러오기 및 합치기 (데이터는 캐글 데이터를 사용했다.)

https://www.kaggle.com/leonardokarl/pubg-statisctic


```python
solo = pd.read_csv("solo.csv",index_col=0)
duo = pd.read_csv("duo.csv",index_col=0)
squad = pd.read_csv("squad.csv",index_col=0)
```


```python
solo['GameMode'] = 'solo'
duo['GameMode'] = 'duo'
squad['GameMode'] = 'squad'

total = pd.concat([solo,duo,squad]).reset_index(drop=True)
total
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>player_name</th>
      <th>KillDeathRatio</th>
      <th>WinRatio</th>
      <th>TimeSurvived</th>
      <th>RoundsPlayed</th>
      <th>Wins</th>
      <th>WinTop10Ratio</th>
      <th>Top10s</th>
      <th>Top10Ratio</th>
      <th>Losses</th>
      <th>Rating</th>
      <th>BestRating</th>
      <th>DamagePg</th>
      <th>HeadshotKillsPg</th>
      <th>HealsPg</th>
      <th>KillsPg</th>
      <th>MoveDistancePg</th>
      <th>RevivesPg</th>
      <th>RoadKillsPg</th>
      <th>TeamKillsPg</th>
      <th>TimeSurvivedPg</th>
      <th>Top10sPg</th>
      <th>Kills</th>
      <th>Assists</th>
      <th>Suicides</th>
      <th>TeamKills</th>
      <th>HeadshotKills</th>
      <th>HeadshotKillRatio</th>
      <th>VehicleDestroys</th>
      <th>RoadKills</th>
      <th>DailyKills</th>
      <th>WeeklyKills</th>
      <th>RoundMostKills</th>
      <th>MaxKillStreaks</th>
      <th>Days</th>
      <th>LongestTimeSurvived</th>
      <th>MostSurvivalTime</th>
      <th>AvgSurvivalTime</th>
      <th>WinPoints</th>
      <th>WalkDistance</th>
      <th>RideDistance</th>
      <th>MoveDistance</th>
      <th>AvgWalkDistance</th>
      <th>AvgRideDistance</th>
      <th>LongestKill</th>
      <th>Heals</th>
      <th>Revives</th>
      <th>Boosts</th>
      <th>DamageDealt</th>
      <th>DBNOs</th>
      <th>GameMode</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>BreakNeck</td>
      <td>3.14</td>
      <td>17.65</td>
      <td>18469.14</td>
      <td>17</td>
      <td>3</td>
      <td>0.83</td>
      <td>4</td>
      <td>23.5</td>
      <td>14</td>
      <td>1559.78</td>
      <td>1415.79</td>
      <td>255.36</td>
      <td>0.65</td>
      <td>1.94</td>
      <td>2.59</td>
      <td>3321.28</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>1086.42</td>
      <td>0.24</td>
      <td>44</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>11</td>
      <td>0.25</td>
      <td>0</td>
      <td>0</td>
      <td>13</td>
      <td>19</td>
      <td>13</td>
      <td>1</td>
      <td>14</td>
      <td>1909.66</td>
      <td>1909.66</td>
      <td>1262.83</td>
      <td>2425</td>
      <td>28924.31</td>
      <td>27537.53</td>
      <td>56461.84</td>
      <td>2202.40</td>
      <td>2764.50</td>
      <td>304.87</td>
      <td>33</td>
      <td>0</td>
      <td>29</td>
      <td>4341.06</td>
      <td>0</td>
      <td>solo</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Blackwalk</td>
      <td>4.41</td>
      <td>18.18</td>
      <td>33014.86</td>
      <td>33</td>
      <td>6</td>
      <td>0.36</td>
      <td>11</td>
      <td>33.3</td>
      <td>27</td>
      <td>1884.53</td>
      <td>1860.74</td>
      <td>393.04</td>
      <td>1.27</td>
      <td>1.82</td>
      <td>3.61</td>
      <td>5021.41</td>
      <td>0.00</td>
      <td>0.06</td>
      <td>0.00</td>
      <td>1000.45</td>
      <td>0.33</td>
      <td>119</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>42</td>
      <td>0.35</td>
      <td>3</td>
      <td>2</td>
      <td>18</td>
      <td>18</td>
      <td>13</td>
      <td>3</td>
      <td>10</td>
      <td>1987.94</td>
      <td>1987.94</td>
      <td>1221.32</td>
      <td>3812</td>
      <td>47868.77</td>
      <td>117837.74</td>
      <td>165706.51</td>
      <td>2017.38</td>
      <td>5188.69</td>
      <td>351.95</td>
      <td>60</td>
      <td>0</td>
      <td>88</td>
      <td>12970.39</td>
      <td>0</td>
      <td>solo</td>
    </tr>
    <tr>
      <th>2</th>
      <td>mercedes_benz</td>
      <td>3.60</td>
      <td>0.00</td>
      <td>4330.44</td>
      <td>5</td>
      <td>0</td>
      <td>0.00</td>
      <td>1</td>
      <td>20.0</td>
      <td>5</td>
      <td>1255.92</td>
      <td>1266.60</td>
      <td>329.76</td>
      <td>0.60</td>
      <td>1.00</td>
      <td>3.60</td>
      <td>2804.80</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>866.09</td>
      <td>0.20</td>
      <td>18</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>3</td>
      <td>0.17</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>18</td>
      <td>10</td>
      <td>1</td>
      <td>4</td>
      <td>1578.31</td>
      <td>1578.31</td>
      <td>1133.17</td>
      <td>2061</td>
      <td>6340.79</td>
      <td>7683.20</td>
      <td>14023.99</td>
      <td>1375.70</td>
      <td>3052.50</td>
      <td>125.76</td>
      <td>5</td>
      <td>0</td>
      <td>3</td>
      <td>1648.82</td>
      <td>0</td>
      <td>solo</td>
    </tr>
    <tr>
      <th>3</th>
      <td>DORA</td>
      <td>14.00</td>
      <td>50.00</td>
      <td>13421.82</td>
      <td>8</td>
      <td>4</td>
      <td>0.67</td>
      <td>6</td>
      <td>75.0</td>
      <td>4</td>
      <td>1798.70</td>
      <td>1765.13</td>
      <td>751.95</td>
      <td>0.50</td>
      <td>1.00</td>
      <td>7.00</td>
      <td>5986.82</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>1677.73</td>
      <td>0.75</td>
      <td>56</td>
      <td>3</td>
      <td>0</td>
      <td>0</td>
      <td>4</td>
      <td>0.07</td>
      <td>0</td>
      <td>0</td>
      <td>8</td>
      <td>48</td>
      <td>14</td>
      <td>2</td>
      <td>5</td>
      <td>1980.79</td>
      <td>1980.79</td>
      <td>1677.73</td>
      <td>1484</td>
      <td>17579.69</td>
      <td>30314.83</td>
      <td>47894.53</td>
      <td>2197.46</td>
      <td>3789.35</td>
      <td>412.25</td>
      <td>8</td>
      <td>0</td>
      <td>24</td>
      <td>6015.57</td>
      <td>0</td>
      <td>solo</td>
    </tr>
    <tr>
      <th>4</th>
      <td>n2tstar</td>
      <td>10.50</td>
      <td>33.33</td>
      <td>9841.04</td>
      <td>6</td>
      <td>2</td>
      <td>0.40</td>
      <td>5</td>
      <td>83.3</td>
      <td>4</td>
      <td>1668.67</td>
      <td>1616.58</td>
      <td>637.48</td>
      <td>1.50</td>
      <td>2.00</td>
      <td>7.00</td>
      <td>6526.96</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>1640.17</td>
      <td>0.83</td>
      <td>42</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>9</td>
      <td>0.21</td>
      <td>0</td>
      <td>0</td>
      <td>15</td>
      <td>29</td>
      <td>13</td>
      <td>3</td>
      <td>2</td>
      <td>1923.71</td>
      <td>1923.71</td>
      <td>1640.17</td>
      <td>1384</td>
      <td>16736.41</td>
      <td>22425.36</td>
      <td>39161.77</td>
      <td>2789.40</td>
      <td>3737.56</td>
      <td>307.97</td>
      <td>12</td>
      <td>0</td>
      <td>21</td>
      <td>3824.89</td>
      <td>0</td>
      <td>solo</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>263689</th>
      <td>SaikoMene</td>
      <td>0.94</td>
      <td>3.57</td>
      <td>61987.40</td>
      <td>56</td>
      <td>2</td>
      <td>0.05</td>
      <td>23</td>
      <td>41.1</td>
      <td>54</td>
      <td>1625.68</td>
      <td>1648.14</td>
      <td>130.10</td>
      <td>0.16</td>
      <td>2.43</td>
      <td>0.91</td>
      <td>3775.38</td>
      <td>0.27</td>
      <td>0.00</td>
      <td>0.11</td>
      <td>1106.92</td>
      <td>0.41</td>
      <td>51</td>
      <td>17</td>
      <td>1</td>
      <td>6</td>
      <td>9</td>
      <td>0.18</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>6</td>
      <td>3</td>
      <td>16</td>
      <td>1975.01</td>
      <td>1975.01</td>
      <td>1074.56</td>
      <td>2398</td>
      <td>106099.84</td>
      <td>105321.37</td>
      <td>211421.17</td>
      <td>1863.11</td>
      <td>1503.24</td>
      <td>489.84</td>
      <td>136</td>
      <td>15</td>
      <td>70</td>
      <td>7285.37</td>
      <td>41</td>
      <td>squad</td>
    </tr>
    <tr>
      <th>263690</th>
      <td>KARUKOR</td>
      <td>1.42</td>
      <td>8.70</td>
      <td>90025.75</td>
      <td>92</td>
      <td>8</td>
      <td>0.07</td>
      <td>37</td>
      <td>40.2</td>
      <td>84</td>
      <td>1912.70</td>
      <td>1923.01</td>
      <td>156.96</td>
      <td>0.14</td>
      <td>1.55</td>
      <td>1.29</td>
      <td>2632.12</td>
      <td>0.28</td>
      <td>0.00</td>
      <td>0.09</td>
      <td>978.54</td>
      <td>0.40</td>
      <td>119</td>
      <td>33</td>
      <td>3</td>
      <td>8</td>
      <td>13</td>
      <td>0.11</td>
      <td>1</td>
      <td>0</td>
      <td>2</td>
      <td>3</td>
      <td>9</td>
      <td>3</td>
      <td>22</td>
      <td>2112.99</td>
      <td>2112.99</td>
      <td>1050.24</td>
      <td>3606</td>
      <td>144046.67</td>
      <td>98108.14</td>
      <td>242154.75</td>
      <td>1636.41</td>
      <td>1590.67</td>
      <td>235.24</td>
      <td>143</td>
      <td>26</td>
      <td>72</td>
      <td>14440.64</td>
      <td>97</td>
      <td>squad</td>
    </tr>
    <tr>
      <th>263691</th>
      <td>Dertydann</td>
      <td>0.90</td>
      <td>1.46</td>
      <td>126889.24</td>
      <td>137</td>
      <td>2</td>
      <td>0.18</td>
      <td>41</td>
      <td>29.9</td>
      <td>135</td>
      <td>1727.56</td>
      <td>1758.74</td>
      <td>116.34</td>
      <td>0.08</td>
      <td>1.15</td>
      <td>0.89</td>
      <td>2804.78</td>
      <td>0.18</td>
      <td>0.01</td>
      <td>0.02</td>
      <td>926.20</td>
      <td>0.30</td>
      <td>122</td>
      <td>38</td>
      <td>0</td>
      <td>3</td>
      <td>11</td>
      <td>0.09</td>
      <td>2</td>
      <td>1</td>
      <td>8</td>
      <td>11</td>
      <td>5</td>
      <td>4</td>
      <td>31</td>
      <td>2138.18</td>
      <td>2138.18</td>
      <td>1121.51</td>
      <td>3747</td>
      <td>207191.54</td>
      <td>177062.72</td>
      <td>384254.27</td>
      <td>2109.40</td>
      <td>1088.12</td>
      <td>453.87</td>
      <td>157</td>
      <td>24</td>
      <td>95</td>
      <td>15939.11</td>
      <td>92</td>
      <td>squad</td>
    </tr>
    <tr>
      <th>263692</th>
      <td>Neferhor</td>
      <td>2.88</td>
      <td>15.95</td>
      <td>220702.25</td>
      <td>163</td>
      <td>26</td>
      <td>0.41</td>
      <td>104</td>
      <td>63.8</td>
      <td>137</td>
      <td>2311.01</td>
      <td>2311.73</td>
      <td>348.90</td>
      <td>0.47</td>
      <td>2.44</td>
      <td>2.42</td>
      <td>5234.55</td>
      <td>0.24</td>
      <td>0.02</td>
      <td>0.04</td>
      <td>1354.00</td>
      <td>0.64</td>
      <td>395</td>
      <td>106</td>
      <td>4</td>
      <td>6</td>
      <td>77</td>
      <td>0.19</td>
      <td>14</td>
      <td>3</td>
      <td>19</td>
      <td>49</td>
      <td>11</td>
      <td>4</td>
      <td>30</td>
      <td>2187.04</td>
      <td>2187.04</td>
      <td>1312.41</td>
      <td>4194</td>
      <td>330179.44</td>
      <td>523052.83</td>
      <td>853232.16</td>
      <td>1785.15</td>
      <td>1804.51</td>
      <td>449.91</td>
      <td>397</td>
      <td>39</td>
      <td>317</td>
      <td>56870.07</td>
      <td>350</td>
      <td>squad</td>
    </tr>
    <tr>
      <th>263693</th>
      <td>pepperedangus</td>
      <td>0.84</td>
      <td>2.41</td>
      <td>157247.36</td>
      <td>166</td>
      <td>4</td>
      <td>0.05</td>
      <td>46</td>
      <td>27.7</td>
      <td>162</td>
      <td>1548.62</td>
      <td>1562.32</td>
      <td>119.09</td>
      <td>0.16</td>
      <td>0.93</td>
      <td>0.82</td>
      <td>3015.69</td>
      <td>0.17</td>
      <td>0.01</td>
      <td>0.05</td>
      <td>947.27</td>
      <td>0.28</td>
      <td>136</td>
      <td>27</td>
      <td>2</td>
      <td>8</td>
      <td>26</td>
      <td>0.19</td>
      <td>0</td>
      <td>1</td>
      <td>12</td>
      <td>22</td>
      <td>8</td>
      <td>4</td>
      <td>49</td>
      <td>1942.25</td>
      <td>1942.25</td>
      <td>921.66</td>
      <td>5720</td>
      <td>258937.17</td>
      <td>241667.55</td>
      <td>500604.73</td>
      <td>1638.83</td>
      <td>1413.55</td>
      <td>363.74</td>
      <td>154</td>
      <td>28</td>
      <td>150</td>
      <td>19769.59</td>
      <td>140</td>
      <td>squad</td>
    </tr>
  </tbody>
</table>
<p>263694 rows × 51 columns</p>
</div>




```python
msno.matrix(total)
plt.show()
```


    
![png](/images/output_8_0.png)
    


### 연속형 데이터를 범주화 하는 경우가 많아서 함수로 만듦 


```python
def create_range_data(df, col, bins_start, bins_end, bins_jump):
    df[f'{col}_range'] = pd.cut(df[f'{col}'],
                               bins=range(bins_start,bins_end+bins_jump,bins_jump),
                               include_lowest=True,
                               labels=range(bins_start+bins_jump,bins_end+bins_jump,bins_jump))
    
def drop_col(df, col):
    df.drop([f'{col}_range'], axis=1, inplace=True)
```

### Data 전처리


```python
import re

#column 삭제
total.drop(columns=['HeadshotKillRatio','Top10sPg'],inplace=True)


pg_regexp = re.compile(r"Pg")
ratio_regexp = re.compile(r"Ratio")
avg_regexp = re.compile(r"Avg")

#컬럼 추가
total["WalkDistancePg"] =  total["WalkDistance"]/total["RoundsPlayed"]
total["RideDistancePg"] =  total["RideDistance"]/total["RoundsPlayed"]
total["WinRatio"] =  total["Wins"]/total["RoundsPlayed"]
total["BoostsPg"] = total["Boosts"] / total["RoundsPlayed"]
total["VehicleDestPg"] = total["VehicleDestroys"] / total["RoundsPlayed"]

#의미없는 컬럼 삭제
total.drop(columns=['AvgSurvivalTime', 'AvgWalkDistance','AvgRideDistance'], axis=1, inplace=True)


ls = total.columns

PgRatio_col = []
normal_col = []

for data in ls: 
    if ratio_regexp.search(data):
        PgRatio_col.append(data)
    elif pg_regexp.search(data):
        PgRatio_col.append(data)
    elif avg_regexp.search(data):
        avg_col.append(data)
    else:
        normal_col.append(data)

#normal컬럼을 ratio 데이터셋으로 이동
ls_test = ['BestRating','Rating','DailyKills','WeeklyKills','RoundMostKills','MaxKillStreaks',
     'LongestTimeSurvived','LongestKill']
for i in ls_test:
    PgRatio_col.append(i)

#player name컬럼을 ratio데이터셋에 추가
PgRatio_col.append("player_name")
PgRatio_col.append("GameMode")
total_ratio_cols = total[PgRatio_col].columns

total_ratio = total[total_ratio_cols]

#kd에 따른 데이터범주화
total_ratio.loc[total_ratio['KillDeathRatio']<=1, 'K/D_category'] = "초보"
total_ratio.loc[(total_ratio['KillDeathRatio']>1)&(total_ratio['KillDeathRatio']<=2), 'K/D_category'] = "보통"
total_ratio.loc[(total_ratio['KillDeathRatio']>2)&(total_ratio['KillDeathRatio']<=3), 'K/D_category'] = "고수"
total_ratio.loc[total_ratio['KillDeathRatio']>3, 'K/D_category'] = "초고수"


#승률 범주화
create_range_data(total_ratio,'Top10Ratio',0,100,10)
total_ratio['WinRatio_GoodBad'] = 0
total_ratio.loc[total_ratio['Top10Ratio_range']>=40, 'WinRatio_GoodBad'] = "good"
total_ratio.loc[total_ratio['Top10Ratio_range']<=40, 'WinRatio_GoodBad'] = "bad"

#이상치 삭제
total_ratio = total_ratio[total_ratio['Top10Ratio']!=100]

total_ratio
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>KillDeathRatio</th>
      <th>WinRatio</th>
      <th>WinTop10Ratio</th>
      <th>Top10Ratio</th>
      <th>DamagePg</th>
      <th>HeadshotKillsPg</th>
      <th>HealsPg</th>
      <th>KillsPg</th>
      <th>MoveDistancePg</th>
      <th>RevivesPg</th>
      <th>RoadKillsPg</th>
      <th>TeamKillsPg</th>
      <th>TimeSurvivedPg</th>
      <th>WalkDistancePg</th>
      <th>RideDistancePg</th>
      <th>BoostsPg</th>
      <th>VehicleDestPg</th>
      <th>BestRating</th>
      <th>Rating</th>
      <th>DailyKills</th>
      <th>WeeklyKills</th>
      <th>RoundMostKills</th>
      <th>MaxKillStreaks</th>
      <th>LongestTimeSurvived</th>
      <th>LongestKill</th>
      <th>player_name</th>
      <th>GameMode</th>
      <th>K/D_category</th>
      <th>Top10Ratio_range</th>
      <th>WinRatio_GoodBad</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>3.14</td>
      <td>0.176471</td>
      <td>0.83</td>
      <td>23.5</td>
      <td>255.36</td>
      <td>0.65</td>
      <td>1.94</td>
      <td>2.59</td>
      <td>3321.28</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>1086.42</td>
      <td>1701.430000</td>
      <td>1619.854706</td>
      <td>1.705882</td>
      <td>0.000000</td>
      <td>1415.79</td>
      <td>1559.78</td>
      <td>13</td>
      <td>19</td>
      <td>13</td>
      <td>1</td>
      <td>1909.66</td>
      <td>304.87</td>
      <td>BreakNeck</td>
      <td>solo</td>
      <td>초고수</td>
      <td>30</td>
      <td>bad</td>
    </tr>
    <tr>
      <th>1</th>
      <td>4.41</td>
      <td>0.181818</td>
      <td>0.36</td>
      <td>33.3</td>
      <td>393.04</td>
      <td>1.27</td>
      <td>1.82</td>
      <td>3.61</td>
      <td>5021.41</td>
      <td>0.00</td>
      <td>0.06</td>
      <td>0.00</td>
      <td>1000.45</td>
      <td>1450.568788</td>
      <td>3570.840606</td>
      <td>2.666667</td>
      <td>0.090909</td>
      <td>1860.74</td>
      <td>1884.53</td>
      <td>18</td>
      <td>18</td>
      <td>13</td>
      <td>3</td>
      <td>1987.94</td>
      <td>351.95</td>
      <td>Blackwalk</td>
      <td>solo</td>
      <td>초고수</td>
      <td>40</td>
      <td>bad</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3.60</td>
      <td>0.000000</td>
      <td>0.00</td>
      <td>20.0</td>
      <td>329.76</td>
      <td>0.60</td>
      <td>1.00</td>
      <td>3.60</td>
      <td>2804.80</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>866.09</td>
      <td>1268.158000</td>
      <td>1536.640000</td>
      <td>0.600000</td>
      <td>0.000000</td>
      <td>1266.60</td>
      <td>1255.92</td>
      <td>1</td>
      <td>18</td>
      <td>10</td>
      <td>1</td>
      <td>1578.31</td>
      <td>125.76</td>
      <td>mercedes_benz</td>
      <td>solo</td>
      <td>초고수</td>
      <td>20</td>
      <td>bad</td>
    </tr>
    <tr>
      <th>3</th>
      <td>14.00</td>
      <td>0.500000</td>
      <td>0.67</td>
      <td>75.0</td>
      <td>751.95</td>
      <td>0.50</td>
      <td>1.00</td>
      <td>7.00</td>
      <td>5986.82</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>1677.73</td>
      <td>2197.461250</td>
      <td>3789.353750</td>
      <td>3.000000</td>
      <td>0.000000</td>
      <td>1765.13</td>
      <td>1798.70</td>
      <td>8</td>
      <td>48</td>
      <td>14</td>
      <td>2</td>
      <td>1980.79</td>
      <td>412.25</td>
      <td>DORA</td>
      <td>solo</td>
      <td>초고수</td>
      <td>80</td>
      <td>good</td>
    </tr>
    <tr>
      <th>4</th>
      <td>10.50</td>
      <td>0.333333</td>
      <td>0.40</td>
      <td>83.3</td>
      <td>637.48</td>
      <td>1.50</td>
      <td>2.00</td>
      <td>7.00</td>
      <td>6526.96</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>1640.17</td>
      <td>2789.401667</td>
      <td>3737.560000</td>
      <td>3.500000</td>
      <td>0.000000</td>
      <td>1616.58</td>
      <td>1668.67</td>
      <td>15</td>
      <td>29</td>
      <td>13</td>
      <td>3</td>
      <td>1923.71</td>
      <td>307.97</td>
      <td>n2tstar</td>
      <td>solo</td>
      <td>초고수</td>
      <td>90</td>
      <td>good</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>263689</th>
      <td>0.94</td>
      <td>0.035714</td>
      <td>0.05</td>
      <td>41.1</td>
      <td>130.10</td>
      <td>0.16</td>
      <td>2.43</td>
      <td>0.91</td>
      <td>3775.38</td>
      <td>0.27</td>
      <td>0.00</td>
      <td>0.11</td>
      <td>1106.92</td>
      <td>1894.640000</td>
      <td>1880.738750</td>
      <td>1.250000</td>
      <td>0.017857</td>
      <td>1648.14</td>
      <td>1625.68</td>
      <td>0</td>
      <td>0</td>
      <td>6</td>
      <td>3</td>
      <td>1975.01</td>
      <td>489.84</td>
      <td>SaikoMene</td>
      <td>squad</td>
      <td>초보</td>
      <td>50</td>
      <td>good</td>
    </tr>
    <tr>
      <th>263690</th>
      <td>1.42</td>
      <td>0.086957</td>
      <td>0.07</td>
      <td>40.2</td>
      <td>156.96</td>
      <td>0.14</td>
      <td>1.55</td>
      <td>1.29</td>
      <td>2632.12</td>
      <td>0.28</td>
      <td>0.00</td>
      <td>0.09</td>
      <td>978.54</td>
      <td>1565.724674</td>
      <td>1066.392826</td>
      <td>0.782609</td>
      <td>0.010870</td>
      <td>1923.01</td>
      <td>1912.70</td>
      <td>2</td>
      <td>3</td>
      <td>9</td>
      <td>3</td>
      <td>2112.99</td>
      <td>235.24</td>
      <td>KARUKOR</td>
      <td>squad</td>
      <td>보통</td>
      <td>50</td>
      <td>good</td>
    </tr>
    <tr>
      <th>263691</th>
      <td>0.90</td>
      <td>0.014599</td>
      <td>0.18</td>
      <td>29.9</td>
      <td>116.34</td>
      <td>0.08</td>
      <td>1.15</td>
      <td>0.89</td>
      <td>2804.78</td>
      <td>0.18</td>
      <td>0.01</td>
      <td>0.02</td>
      <td>926.20</td>
      <td>1512.347007</td>
      <td>1292.428613</td>
      <td>0.693431</td>
      <td>0.014599</td>
      <td>1758.74</td>
      <td>1727.56</td>
      <td>8</td>
      <td>11</td>
      <td>5</td>
      <td>4</td>
      <td>2138.18</td>
      <td>453.87</td>
      <td>Dertydann</td>
      <td>squad</td>
      <td>초보</td>
      <td>30</td>
      <td>bad</td>
    </tr>
    <tr>
      <th>263692</th>
      <td>2.88</td>
      <td>0.159509</td>
      <td>0.41</td>
      <td>63.8</td>
      <td>348.90</td>
      <td>0.47</td>
      <td>2.44</td>
      <td>2.42</td>
      <td>5234.55</td>
      <td>0.24</td>
      <td>0.02</td>
      <td>0.04</td>
      <td>1354.00</td>
      <td>2025.640736</td>
      <td>3208.913067</td>
      <td>1.944785</td>
      <td>0.085890</td>
      <td>2311.73</td>
      <td>2311.01</td>
      <td>19</td>
      <td>49</td>
      <td>11</td>
      <td>4</td>
      <td>2187.04</td>
      <td>449.91</td>
      <td>Neferhor</td>
      <td>squad</td>
      <td>고수</td>
      <td>70</td>
      <td>good</td>
    </tr>
    <tr>
      <th>263693</th>
      <td>0.84</td>
      <td>0.024096</td>
      <td>0.05</td>
      <td>27.7</td>
      <td>119.09</td>
      <td>0.16</td>
      <td>0.93</td>
      <td>0.82</td>
      <td>3015.69</td>
      <td>0.17</td>
      <td>0.01</td>
      <td>0.05</td>
      <td>947.27</td>
      <td>1559.862470</td>
      <td>1455.828614</td>
      <td>0.903614</td>
      <td>0.000000</td>
      <td>1562.32</td>
      <td>1548.62</td>
      <td>12</td>
      <td>22</td>
      <td>8</td>
      <td>4</td>
      <td>1942.25</td>
      <td>363.74</td>
      <td>pepperedangus</td>
      <td>squad</td>
      <td>초보</td>
      <td>30</td>
      <td>bad</td>
    </tr>
  </tbody>
</table>
<p>262028 rows × 30 columns</p>
</div>



## heatmap


```python
corrmat_total = total_ratio.corr()
f, ax = plt.subplots(figsize=(20, 15))
sns.heatmap(corrmat_total, vmax=.8, square=True, annot=True, annot_kws={"size": 12});
```


    
![png](/images/output_14_0.png)
    



```python
ls_heatmap = ['solo', 'duo', 'squad']
for value in ls_heatmap:
    globals()[f'corrmat_{value}'] = total_ratio[total_ratio['GameMode']==value].corr()
    f, ax = plt.subplots(figsize=(20, 15))
    sns.heatmap(globals()[f'corrmat_{value}'], vmax=.8, 
                square=True, annot=True, annot_kws={"size": 12});
```


    
![png](/images/output_15_0.png)
    



    
![png](/images/output_15_1.png)
    



    
![png](/images/output_15_2.png)
    


![png](/images/image-2.png)
- 에임(=총 쏘는 실력)과 관련된 컬럼은 squad -> duo -> solo 일수록 더 높은 상관계수를 보인다.
- 에임과 비교적 관련이 없는 컬럼은 solo -> duo -> squad 일수록 더 높은 상관관계를 보인다.
- 에임이 안좋은 나로써는 squad나 duo를 하는것이 나은가? => 좀더 자세히 알아보자

# top10에 들어갈 확률(targrt column)과의 상관계수가 0.3 이상인 컬럼을 뽑아보자 


```python
ls_2 = ['total', 'solo', 'duo', 'squad' ]
useful_col = []
for value in ls_2:
    globals()[f"corrmat_{value}"]
    globals()[f"useful_col_{value}"] = globals()[f"corrmat_{value}"][globals()[f"corrmat_{value}"]["Top10Ratio"].values >= 0.3].index.tolist()

useful_col = list(set(useful_col_total  + useful_col_duo + useful_col_solo + useful_col_squad))
useful_col
```




    ['LongestTimeSurvived',
     'Top10Ratio',
     'KillDeathRatio',
     'RevivesPg',
     'HeadshotKillsPg',
     'HealsPg',
     'WinRatio',
     'MoveDistancePg',
     'TimeSurvivedPg',
     'WalkDistancePg',
     'BoostsPg',
     'Rating',
     'RideDistancePg',
     'DamagePg',
     'KillsPg']



### useful_col 중 분석 해볼만한 컬럼만 다시 추린다.


```python
useful_col = ['MoveDistancePg', 'RideDistancePg', 'HealsPg', 'RevivesPg', 'BoostsPg', 'KillDeathRatio', 'DamagePg','WalkDistancePg']
print(useful_col, len(useful_col))
```

    ['MoveDistancePg', 'RideDistancePg', 'HealsPg', 'RevivesPg', 'BoostsPg', 'KillDeathRatio', 'DamagePg', 'WalkDistancePg'] 8


## 세부가설 1. Kill/Death를 높이면 TOP10에 들어갈 확률이 높아질것이다. 
#### KillDeathRatio = 총 죽인횟수/총 죽은횟수 (에임 실력과 관련있는 컬럼)


```python
sns.lmplot(x="KillDeathRatio", y="Top10Ratio", hue="GameMode", 
           data=total_ratio[(total_ratio['KillDeathRatio']<=10)&(total_ratio['Top10Ratio']<=100)])
```




    <seaborn.axisgrid.FacetGrid at 0x7fc963368220>




    
![png](/images/output_22_1.png)
    


- 듀오, 스쿼드, 솔로 모두 탑10에 들어가는 비율과 양의 상관관계를 보인다.
- squad 선형 직선의 기울기가 가장 완만하다. => 게임모드를 sqaud로 할때, 에임 실력에 영향을 덜 받는다.


```python
create_range_data(total_ratio, "KillDeathRatio", 0, 10, 1)
sns.relplot(x="KillDeathRatio_range", y="Top10Ratio", data=total_ratio, hue='GameMode', kind='line')
drop_col(total_ratio, "KillDeathRatio")
```


    
![png](/images/output_24_0.png)
    


- 같은 K/D라도 게임모드를 squad로 할때 top10에 진입할 확률이 높다.


```python
create_range_data(total_ratio, "KillDeathRatio", 0, 10, 1)


sns.catplot(x="KillDeathRatio_range", y="Top10Ratio", data=total_ratio, kind='boxen')
plt.show()

drop_col(total_ratio, "KillDeathRatio")
```


    
![png](/images/output_26_0.png)
    


- 킬수가 많을수록 탑10에 들어갈 확률이 커진다.
- 하지만 kill수가 4명 이상이되면 탑10에 들어가는 확률에 미치는 영향이 줄어든다.
- 한판당 4~5명을 죽인다면 탑10에 들어갈 확률을 40이상 만들수 있다.

### 여기서 궁금한 내용.

- 과연 노력을 많이 하면 에임실력이 올라갈 수 있을까?


```python
sns.lmplot(x="RoundsPlayed", y="KillDeathRatio", 
           data=total)
print(total['RoundsPlayed'].corr(total['KillDeathRatio']))
```

    -0.17930205692175888



    
![png](/images/output_29_1.png)
    


- 응 아니야~


```python
create_range_data(total_ratio,'Top10Ratio',0,100,25)

plt.figure(figsize=(20,10))
for gb in total_ratio['Top10Ratio_range'].unique():
    df = total_ratio[(total_ratio['Top10Ratio_range']==gb)&(total_ratio['GameMode']=='squad')]
    sns.distplot(df['KillDeathRatio'], bins=10, hist=False,kde=True)
    plt.legend(['so bad','normal','good','very good'])
    plt.xlim(0,10)
    print(f'squad 승률 {gb}% 평균 :',df['KillDeathRatio'].mean())
    
plt.show()
```

    squad 승률 25% 평균 : 1.1523862461220291
    squad 승률 50% 평균 : 1.2889908026405688
    squad 승률 75% 평균 : 2.0116002420679546
    squad 승률 100% 평균 : 3.9380858085808588



    
![png](/images/output_31_1.png)
    


## 세부 가설 1의 결론
- 게임 모드는 스쿼드로 하며, 한판당 3.9킬정도 했을때 승률을 최고로 높일 수 있다.  
    - 하지만 K/D 3.9는 재능이 없는 우리에게 불가능에 가깝다.
    - KD 2.0을 목표로 삼아 에임실력을 조금이라도 끌어 올린다음, top10 진입 확률을 50~75%로 만들어보자!!

## 세부가설 2. 상대에게 Damege를 많이 입히면 TOP10에 들어갈 확률이 높아질것이다.


```python
sns.lmplot(x="DamagePg", y="Top10Ratio", hue="GameMode", data=total_ratio)
```




    <seaborn.axisgrid.FacetGrid at 0x7fc950acc400>




    
![png](/images/output_34_1.png)
    


- squad -> duo -> solo 순으로 DamagePg와 Top10Ratio가 강한 상관관계를 보인다.


```python
create_range_data(total_ratio, "DamagePg", 0, 1000, 100)
sns.relplot(x="DamagePg_range", y="Top10Ratio", data=total_ratio, hue='GameMode', kind='line')
drop_col(total_ratio, "DamagePg")
```


    
![png](/images/output_36_0.png)
    


- 적에게 같은양의 Damage를 주었을 때 squad가 가장 높은 승률을 보여준다.
- 에임 실력이 떨어지는 우리에게는 squad가 딱이다.


```python
create_range_data(total_ratio, "DamagePg", 0, 1000, 100)


sns.catplot(x="DamagePg_range", y="Top10Ratio", data=total_ratio, kind='boxen')
plt.show()

drop_col(total_ratio, "DamagePg")
```


    
![png](/images/output_38_0.png)
    


- 앞에 보았던 결과와 같이 두 컬럼간데 어느정도 상관이 있어보이지만, DamgePg 가 500이상부터는 증가율이 미비하다


```python
create_range_data(total_ratio,'Top10Ratio',0,100,25)

plt.figure(figsize=(20,10))
for gb in total_ratio['Top10Ratio_range'].unique():
    df = total_ratio[(total_ratio['Top10Ratio_range']==gb)&(total_ratio['GameMode']=='squad')]
    sns.distplot(df['DamagePg'], bins=10, hist=False,kde=True)
    plt.legend(['so bad','normal','good','very good'])
    plt.xlim(0,1000)
    print(f'squad 승률 {gb}% 평균 :',df['DamagePg'].mean())
    
plt.show()

drop_col(total_ratio, "Top10Ratio")
```

    squad 승률 25% 평균 : 155.5706876938987
    squad 승률 50% 평균 : 169.94079580187469
    squad 승률 75% 평균 : 231.45372352381798
    squad 승률 100% 평균 : 323.8863036303631



    
![png](/images/output_40_1.png)
    


## 세부가설 2 결론
- 한판당 평균 데미지의 양을 323정도 해주면, Top10 진입확률이 높겠지만, 우리의 에임실력으로는 안될것 같다. 목표를 조금 낮추자
- 게임모드는 squad 모드로 진행하며, 한판당 적에게 주는 데미지 목표를 231로 하여 승률을 50~75%로 만들어보자!!

## 세부가설 3. heal 아이탬 사용개수는 TOP10에 들어갈 확률에 영향을 미칠 것이다.


```python
sns.lmplot(x="HealsPg", y="Top10Ratio", hue="GameMode", 
           data=total_ratio[(total_ratio['KillDeathRatio']<=10)&(total_ratio['Top10Ratio']<=100)])




```




    <seaborn.axisgrid.FacetGrid at 0x7fc943b81c40>




    
![png](/images/output_43_1.png)
    


- 미세하지만 solo, duo, squad 순으로 더 강한 양의 상관관계를 보여준다.


```python
create_range_data(total_ratio, "HealsPg", 0, 10, 1)

sns.catplot(x="HealsPg_range", y="Top10Ratio", hue="GameMode", palette="YlGnBu_d", kind="point", data=total_ratio)
sns.relplot(x="HealsPg_range", y="Top10Ratio", data=total_ratio, hue='GameMode', kind='line')

drop_col(total_ratio, "HealsPg")
```


    
![png](/images/output_45_0.png)
    



    
![png](/images/output_45_1.png)
    


- 같은 Heal 아이템을 사용하더라도 squad 모드일 때 가장 높은 Top10 진입율을 보여준다.


```python
create_range_data(total_ratio,'Top10Ratio',0,100,25)

plt.figure(figsize=(20,10))
for gb in total_ratio['Top10Ratio_range'].unique():
    df = total_ratio[(total_ratio['Top10Ratio_range']==gb)&(total_ratio['GameMode']=='squad')]
    sns.distplot(df['HealsPg'], bins=10, hist=False,kde=True)
    plt.legend(['so bad','normal','good','very good'])
    plt.xlim(0,10)
    print(f'squad 승률 {gb}% 평균 :',df['HealsPg'].mean())
    
plt.show()

drop_col(total_ratio, "Top10Ratio")
```

    squad 승률 25% 평균 : 1.413337642192344
    squad 승률 50% 평균 : 1.8574551646173878
    squad 승률 75% 평균 : 2.3908135212241715
    squad 승률 100% 평균 : 2.8631848184818476



    
![png](/images/output_47_1.png)
    


## 세부가설 3 결론
- 게임모드는 squad모드로 하며, 승률을 75~100으로 올리기위해 한판당 heal아이템을 2.8개 먹는다. 

## 세부가설 4: 부스트아이템의 사용갯수가 많아질수록 Top10에 들어갈 확률이 상승할 것이다.


```python
# 모드별 부스트아이템 사용갯수 분포
plt.rcParams['font.family'] = 'AppleGothic'
create_range_data(total_ratio,'BoostsPg',0,7,1)

plt.figure(figsize=(20,10))
sns.countplot('BoostsPg_range',data=total_ratio,hue='GameMode')
plt.title("모드별 부스트아이템 사용 분포")
plt.xlabel("초록: 스쿼드 / 주황: 듀오 / 파랑: 솔로")
plt.grid
plt.show()
drop_col(total_ratio, 'BoostsPg')
```


    
![png](/images/output_50_0.png)
    



```python
# 부스트 아이템 범주화 후 박스플롯

create_range_data(total_ratio,'BoostsPg',0,7,1)

plt.figure(figsize=(16,8))
sns.boxplot(x='BoostsPg_range',y='Top10Ratio', data=total_ratio)
plt.show()
drop_col(total_ratio, 'BoostsPg')
```


    
![png](/images/output_51_0.png)
    


* 부스트아이템 사용갯수와 top10확률은 확실히 정비례한다.


```python
# 모드별 top10확률 비교
create_range_data(total_ratio,'BoostsPg',0,7,1)
plt.figure(figsize=(20,10))
sns.pointplot(x='BoostsPg_range',y='Top10Ratio',hue='GameMode', data=total_ratio,color='blue')
plt.title("솔로, 듀오, 스쿼드 부스트 아이템 사용갯수별 top률 변화 비교")
plt.xlabel("파랑: 스쿼드 / 남색: 듀오 / 검정: 솔로")
plt.grid()
plt.show()
drop_col(total_ratio, 'BoostsPg')
```


    
![png](/images/output_53_0.png)
    


* 같은갯수일때 스쿼드모드가 가장 좋은 승률을 보여준다.


```python
create_range_data(total_ratio,'Top10Ratio',0,100,25)

plt.figure(figsize=(20,10))
for gb in total_ratio['Top10Ratio_range'].unique():
    df = total_ratio[(total_ratio['Top10Ratio_range']==gb)&(total_ratio['GameMode']=='squad')]
    sns.distplot(df['BoostsPg'], bins=10, hist=False,kde=True)
    plt.legend(['so bad','normal','good','very good'])
    plt.xlim(0,5)
    print(f'squad 승률 {gb}% 평균 :',df['BoostsPg'].mean())
    
plt.show()

drop_col(total_ratio,"Top10Ratio")
```

    squad 승률 25% 평균 : 0.8297112627100617
    squad 승률 50% 평균 : 1.1863236429050545
    squad 승률 75% 평균 : 1.6965125967520676
    squad 승률 100% 평균 : 2.3510609685559154



    
![png](/images/output_55_1.png)
    


#### 가설4 결론
* top10확률로 나눈 플레이어 그룹 간 게임당 부스트아이템의 사용갯수에서 차이를 보인다는 것을 알 수 있다. top10에 들 확률이 높을수록 확실히 부스트아이템을 많이 사용한다.
* 승률 75~100%기준 부스트아이템은 약 2개 이상 사용하는 것이 이상적

## 세부가설 5: 팀원을 부활시킨 횟수가 많을수록 Top10에 들어갈 확률이 상승할 것이다.


```python
# 모드별 게임당 평균 부활횟수 분포
plt.rcParams['font.family'] = 'AppleGothic'
df = total_ratio[total_ratio['GameMode']!='solo']
rev = df.copy()
rev['RevivesRange'] = pd.cut(rev["RevivesPg"],
                                       bins=[0,0.1,0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1.0],
                           include_lowest=True,
                           labels=[0.1,0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1.0])
                             
plt.figure(figsize=(20,10))
sns.countplot('RevivesRange',data=rev,hue='GameMode')
plt.title("모드별 게임당 부활횟수")
plt.xlabel("주황: 스쿼드 / 파랑: 듀오")
plt.grid
plt.show()
```


    
![png](/images/output_58_0.png)
    


* 솔로모드는 부활이 없으므로 제외.
* 플레이어가 게임당 팀원을 부활시킨 횟수는 평균 1회가 되지 않았다. 대부분 0.6회 이내


```python
# 듀오와 스쿼드 부활횟수와 top10ratio 꺾은 선 그래프
rev['RevivesRange'] = pd.cut(rev["RevivesPg"],
                                       bins=[0,0.1,0.2,0.3,0.4,0.5,0.6,0.7,0.8],
                           include_lowest=True,
                           labels=[0.1,0.2,0.3,0.4,0.5,0.6,0.7,0.8])

plt.figure(figsize=(20,10))
sns.pointplot(x='RevivesRange',y='Top10Ratio',hue='GameMode', data=rev,color='blue')
plt.title("듀오 / 스쿼드 평균부활횟수당 top10확률")
plt.grid()
plt.show()
```


    
![png](/images/output_60_0.png)
    


* 전반적으로 부활횟수가 증가할수록 top10에 들 확률도 상승한다는 사실을 알 수 있다.


```python
# top10확률로 나눈 네 그룹의 부활횟수 비교
create_range_data(total_ratio,'Top10Ratio',0,100,25)

plt.figure(figsize=(20,10))
for gb in total_ratio['Top10Ratio_range'].unique():
    df = total_ratio[(total_ratio['Top10Ratio_range']==gb)&(total_ratio['GameMode']=='squad')]
    sns.distplot(df['RevivesPg'], bins=10, hist=False,kde=True)
    plt.legend(['so bad','normal','good','very good'])
    plt.xlim(0,1)
    print(f'squad 승률 {gb}% 평균 :',df['RevivesPg'].mean())
    
plt.show()

drop_col(total_ratio,"Top10Ratio")
```

    squad 승률 25% 평균 : 0.1693097207859362
    squad 승률 50% 평균 : 0.21469511939817879
    squad 승률 75% 평균 : 0.25615976484827496
    squad 승률 100% 평균 : 0.32367986798679865



    
![png](/images/output_62_1.png)
    


*  top10확률이 높은 그룹일수록 부활횟수도 많다는 사실을 알 수 있다.

#### 가설5 결론
* 부활횟수가 많을수록 top10에 들 확률은 증가한다.
* 승률 75~100% 기준 플레이어는 게임당 0.3회정도 팀원을 부활시킨다.

## 세부가설 6:  이동거리가 증가할수록 Top10에 들어갈 확률이 상승할 것이다.


```python
# 모드별 이동거리 CountPlot


create_range_data(total_ratio,"MoveDistancePg",0,10000,1000)
plt.figure(figsize=(20,10))
sns.countplot('MoveDistancePg_range',data=total_ratio,hue='GameMode')
plt.title("모드별 이동거리")
plt.xlabel("초록: 스쿼드 / 주황: 듀오 / 파랑: 솔로")
plt.grid()
plt.show()
drop_col(total_ratio,'MoveDistancePg')
```


    
![png](/images/output_66_0.png)
    



```python
create_range_data(total_ratio,"MoveDistancePg",0,10000,1000)


plt.figure(figsize=(20,10))
sns.pointplot(x='MoveDistancePg_range',y='Top10Ratio',hue='GameMode', data=total_ratio,color='blue')
plt.title("솔로, 듀오, 스쿼드 이동거리당 top률 변화 비교")
plt.xlabel("파랑: 스쿼드 / 남색: 듀오 / 검정: 솔로")
plt.grid()
plt.show()
drop_col(total_ratio,'MoveDistancePg')
```


    
![png](/images/output_67_0.png)
    


* 전반적으로 8000m까지 꾸준히 top10확률이 증가한다.
* 팀원이 많은 모드일수록 이동거리에 따라 top10확률이 크게 증가한다.


```python
# 변곡점인 8000부터 10000까지 다시 그려보았다.

create_range_data(total_ratio,"MoveDistancePg",7000,10000,400)
    

plt.figure(figsize=(20,10))
sns.pointplot(x='MoveDistancePg_range',y='Top10Ratio',hue='GameMode', data=total_ratio,color='blue')
plt.title("솔로, 듀오, 스쿼드 이동거리당 top률 변화 비교")
plt.xlabel("파랑: 스쿼드 / 남색: 듀오 / 검정: 솔로")
plt.grid()
plt.show()
drop_col(total_ratio,'MoveDistancePg')
```


    
![png](/images/output_69_0.png)
    


* 변곡점을 시작점으로 좀 더 자세하게 그려보았지만, pointplot으로는 상관관계파악이 힘들다.


```python
# top10 확률 별 이동거리 분포 

create_range_data(total_ratio,'Top10Ratio',0,100,25)

plt.figure(figsize=(20,10))
for gb in total_ratio['Top10Ratio_range'].unique():
    df = total_ratio[(total_ratio['Top10Ratio_range']==gb)&(total_ratio['GameMode']=='squad')]
    sns.distplot(df['MoveDistancePg'], bins=10, hist=False,kde=True)
    plt.legend(['so bad','normal','good','very good'])
    plt.xlim(0,10000)
    print(f'squad 승률 {gb}% 평균 :',df['MoveDistancePg'].mean())
    
plt.show()

drop_col(total_ratio,"Top10Ratio")
```

    squad 승률 25% 평균 : 2313.253508273006
    squad 승률 50% 평균 : 3189.4619967621047
    squad 승률 75% 평균 : 4360.586572144903
    squad 승률 100% 평균 : 5860.031881188119



    
![png](/images/output_71_1.png)
    


* top10에 들 확률이 높은 그룹일 수록 이동거리가 많다는 것을 알 수 있다. 

#### 가설6 결론
* 이동거리가 많을수록 top10에 들 가능성이 높아진다.
* top10에 들 확률을 75%이상으로 높이기 위해서는 약 6000m 이동하는 것이 이상적

## 세부가설 7: 걸어서 이동한 거리가 증가할수록 Top10에 들어갈 확률이 상승할 것이다.


```python
# 모드별 걸은 거리 CountPlot

plt.rcParams['font.family'] = 'AppleGothic'
create_range_data(total_ratio,"WalkDistancePg",0,7000,1000)

plt.figure(figsize=(20,10))
sns.countplot('WalkDistancePg_range',data=total_ratio,hue='GameMode')
plt.title("모드별 걸은 거리")
plt.xlabel("초록: 스쿼드 / 주황: 듀오 / 파랑: 솔로")
plt.grid()
plt.show()
drop_col(total_ratio,'WalkDistancePg')
```


    
![png](/images/output_75_0.png)
    


* 플레이어들이 걸어서 이동한 거리는 대체로 4000m이내


```python

create_range_data(total_ratio,"WalkDistancePg",0,4000,500)
    
plt.figure(figsize=(20,10))
sns.pointplot(x='WalkDistancePg_range',y='Top10Ratio',hue='GameMode', data=total_ratio,color='blue')
plt.title("솔로, 듀오, 스쿼드 걸은 거리당 top률 변화 비교")
plt.xlabel("파랑: 스쿼드 / 남색: 듀오 / 검정: 솔로")
plt.grid()
plt.show()
drop_col(total_ratio,'WalkDistancePg')
```


    
![png](/images/output_77_0.png)
    


* 걸어서 이동한 거리가 증가할수록 top10에 들어갈 확률도 증가한다.
* 팀원이 많은 모드일수록 상승폭이 가파르다.


```python
# top10확률 별 걸어서 이동한거리 비교
create_range_data(total_ratio,'Top10Ratio',0,100,25)

plt.figure(figsize=(20,10))
for gb in total_ratio['Top10Ratio_range'].unique():
    df = total_ratio[(total_ratio['Top10Ratio_range']==gb)&(total_ratio['GameMode']=='squad')]
    sns.distplot(df['WalkDistancePg'], bins=10, hist=False,kde=True)
    plt.legend(['so bad','normal','good','very good'])
    plt.xlim(0,7000)
    print(f'squad 승률 {gb}% 평균 :',df['WalkDistancePg'].mean())
    
plt.show()

drop_col(total_ratio,"Top10Ratio")
```

    squad 승률 25% 평균 : 1211.5108272627604
    squad 승률 50% 평균 : 1550.2585986080123
    squad 승률 75% 평균 : 1929.7587764977209
    squad 승률 100% 평균 : 2212.2188810756606



    
![png](/images/output_79_1.png)
    


* 승률이 높은 그룹일 수록 걸어서 이동하는 거리가 많다.

#### 가설7 결론
* 걷는거리가 많을수록 top10확률 높아진다.
* top10확률 75~100%대로 높이고 싶다면, 걸어서 이동하는 거리를 약 2000m정도 높이는 것이 좋다.

## 세부가설 8: 차를 타고 이동한 거리가 증가할수록 Top10에 들어갈 확률이 증가할 것이다.


```python
# 모드별 차 이동거리 CountPlot
plt.rcParams['font.family'] = 'AppleGothic'
create_range_data(total_ratio,"RideDistancePg",0,10000,1000)
plt.figure(figsize=(20,10))
sns.countplot('RideDistancePg_range',data=total_ratio,hue='GameMode')
plt.title("모드별 차 이동거리")
plt.xlabel("초록: 스쿼드 / 주황: 듀오 / 파랑: 솔로")
plt.grid
plt.show()
drop_col(total_ratio,'RideDistancePg')
```


    
![png](/images/output_83_0.png)
    


* 팀원이 많은 모드일수록 차를 타고 이동하는 거리가 많다. 스쿼드에서 차를 가장 많이 이용한다.


```python
create_range_data(total_ratio,"RideDistancePg",0,7000,1000)


plt.figure(figsize=(20,10))
sns.pointplot(x='RideDistancePg_range',y='Top10Ratio',hue='GameMode', data=total_ratio,color='blue')
plt.title("솔로, 듀오, 스쿼드 차 탑승거리당 top률 변화 비교")
plt.xlabel("파랑: 스쿼드 / 남색: 듀오 / 검정: 솔로")
plt.grid()
plt.show()
drop_col(total_ratio,'RideDistancePg')
```


    
![png](/images/output_85_0.png)
    


* 차를 타고 이동한 거리가 증가할수록 top10확률이 상승한다. 


```python
create_range_data(total_ratio,"RideDistancePg",0,7000,500)

plt.figure(figsize=(16,8))
sns.boxplot(x='RideDistancePg_range',y='Top10Ratio', data=total_ratio)
plt.show()
drop_col(total_ratio, 'RideDistancePg')
```


    
![png](/images/output_87_0.png)
    



```python
# 승률에 따라 차타고 이동한 거리를 비교해보자.
create_range_data(total_ratio,'Top10Ratio',0,100,25)

plt.figure(figsize=(20,10))
for gb in total_ratio['Top10Ratio_range'].unique():
    df = total_ratio[(total_ratio['Top10Ratio_range']==gb)&(total_ratio['GameMode']=='squad')]
    sns.distplot(df['RideDistancePg'], bins=10, hist=False,kde=True)
    plt.legend(['so bad','normal','good','very good'])
    plt.xlim(0,7000)
    print(f'squad 승률 {gb}% 평균 :',df['RideDistancePg'].mean())
    
plt.show()

drop_col(total_ratio,"Top10Ratio")
```

    squad 승률 25% 평균 : 1101.7426514809827
    squad 승률 50% 평균 : 1639.2033707524774
    squad 승률 75% 평균 : 2430.827737897093
    squad 승률 100% 평균 : 3647.8130697569145



    
![png](/images/output_88_1.png)
    


* top10확률이 매우 높은 플레이어 그룹은 게임당 약 3500m를 차를타고 이동 
* 확실히 승률이 높은 그룹이 차를 적극적으로 이용함을 알 수 있다.

#### 가설8 결론
* 차를 통해 이동하는 거리가 많을 수록 top10에 들 확률이 높아진다.
* 차를 적극적으로 이용해야 top10에 들 확률을 높일 수 있다. 3000m이상 차를 이용하여 이동하는 것이 좋다.

### etc) K/D가 낮다면 탈것을 적극적으로 이용하자.


```python
# k/d 그룹별 걸어서 이동한 거리 비교
plt.figure(figsize=(20,10))
for gb in total_ratio['K/D_category'].unique():
    sns.distplot(total_ratio[total_ratio['K/D_category']==gb]['WalkDistancePg'],bins=200, kde=True)
    plt.legend(['초고수','고수','보통','초보'])
plt.xlim(0,5000)
plt.show()
```


    
![png](/images/output_92_0.png)
    


* k/d가 높으면 걸어서 이동한 거리도 증가하는 모습을 보인다.
* 걸어서 이동할 경우, 교전상황이 많이 발생하고, 당연히 k/d가 높은 플레이어가 생존확률이 높기때문에, 일반적으로 걸어서 이동하는 거리가 더 많다.


```python
# 차타고 이동한 거리 비교
plt.figure(figsize=(20,10))
for gb in total_ratio['K/D_category'].unique():
    sns.distplot(total_ratio[total_ratio['K/D_category']==gb]['RideDistancePg'],bins=200, kde=True)
    plt.legend(['초고수','고수','보통','초보'])
plt.xlim(0,7000)
plt.show()
```


    
![png](/images/output_94_0.png)
    


* 걸어서 이동한 거리보다 차를 타고 이동한 거리는 k/d별로 차이가 상대적으로 미미하다.

* top10확률 따라서 RideDistance가 확연한 차이를 보이는 것을 감안하면, 탈것을 적극적으로 이용하는 것이 부족한 k/d를 매우고 top10에 들어갈 좋은 전략이 될 것.


---

### 종합 결론 

#### Top10에 들 확률을 높이기 위해서는.. (스쿼드 기준)

- Kill/Death : 약 2.0 이상
- 게임당 Damage : 231 (한명을 죽이기 위해 필요한 데미지: 100)
- 회복아이템 : 약 3개 이상 (2.8)
- 부스트아이템 : 약 2개 이상 (2.3)
- 부활 : 게임당 0.3회 (3게임당 1회)
- 이동거리 : 많으면 많을수록 좋다. 약 5000M이상
- (걸어서 이동: 약 2000m 이상, 차타고 이동: 약 3000m 이상)


